{"version":3,"sources":["components/AsideMenu/AsideMenu.js","components/Header/Header.js","components/Main/Home/HomeArticle/HomeArticle.js","components/Main/ErrorMessage/ErrorMessage.js","components/Main/SuccessMessage/SuccessMessage.js","components/Main/Home/HomeArticleList/HomeArticleList.js","AuthContext.js","services/articleService.js","utils/errorHandler.js","utils/timeoutMessage.js","components/Main/Home/Home.js","services/authService.js","reusable-components/reusable-components.js","components/Main/Register/Register.js","components/Main/Login/Login.js","components/Main/NotFound/NotFound.js","components/Main/Logout/Logout.js","utils/categoryOptions.js","components/Main/ArticleForm/ArticleForm.js","components/Main/CreateArticle/CreateArticle.js","components/Main/DetailsArticle/GuestDetailsArticle/GuestDetailsArticle.js","components/Main/DetailsArticle/Comment/Comment.js","components/Main/DetailsArticle/AuthDetailsArticle/AuthDetailsArticle.js","components/Main/DetailsArticle/DetailsArticle.js","components/Main/EditArticle/EditArticle.js","components/Main/DeleteArticle/DeleteArticle.js","services/userService.js","components/Main/Profile/Profile.js","components/Main/ErrorBoundary/ErrorBoundary.js","hoc/isAuth.js","hoc/isGuest.js","components/Main/Main.js","components/Footer/Footer.js","App.js","index.js"],"names":["AsideMenu","className","src","alt","to","Header","this","props","loggedIn","username","Component","HomeArticle","title","content","_id","slice","ErrorMessage","message","SuccessMessage","HomeArticleList","articles","category","onSubmitError","onSucessMessage","length","type","charAt","toUpperCase","map","x","author","date","AuthContext","React","createContext","baseUrl","fetchOptions","method","data","isFormData","token","localStorage","headers","body","JSON","stringify","articleService","create","articleData","fetch","then","res","json","getAll","getOne","articleId","postComment","commentData","update","updatedArticleData","remove","errorHandler","setOnSubmitError","err","setTimeout","timeoutMessage","messageSetter","milliseconds","state","Home","match","location","loggedInStateHandler","useContext","useState","setArticles","setCategory","setOnSuccessMessage","useEffect","timer","clearTimeout","catch","params","endpoint","register","login","validateToken","postOptions","authService","password","MyTextInput","label","useField","field","meta","htmlFor","id","name","touched","error","style","color","MyTextareaInput","MySelect","Register","registered","setRegistered","pathname","initialValues","repeatPassword","validationSchema","Yup","required","min","test","value","parent","onSubmit","values","Login","setLoggedIn","setItem","NotFound","Logout","loggedOutStateHandler","clear","availableOptions","ArticleForm","setFieldValue","placeholder","o","imageUrl","onChange","event","currentTarget","files","CreateArticle","history","useHistory","youtubeUrl","image","url","formData","FormData","append","push","GuestDetailsArticle","hasLiked","likes","onLikeArticleHandler","currentUser","height","width","allow","allowFullScreen","split","paragraph","i","onClick","dateTime","Comment","comment","number","AuthDetailsArticle","comments","onCommentSubmitHandler","c","cols","rows","DetailsArticle","setTitle","setContent","setImageUrl","setYoutubeUrl","setAuthor","setDate","usersLiked","setUsersLiked","setLikes","set_id","setComments","commentPosted","setCommentPosted","dateArr","dateArgs","formattedDate","includes","e","preventDefault","target","oldLikes","EditArticle","isArticleUpdated","setIsArticleUpdated","isDataAvailable","setIsDataAvailable","replace","DeleteArticle","isArticleDeleted","setIsArticleDeleted","userService","getUserInfo","Profile","userComments","setUserComments","userArticles","setUserArticles","createdArticles","a","ErrorBoundary","hasError","console","log","children","isAuth","WrappedComponent","isGuest","Main","path","exact","component","Footer","App","setUsername","context","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.46a8d72a.chunk.js","sourcesContent":["import './AsideMenu.css';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AsideMenu = () => {\r\n    return (\r\n        <aside className=\"aside-menu\">\r\n            <div>\r\n                <img src=\"../../logo192.png\" alt=\"\" />\r\n            </div>\r\n            <nav>\r\n                <Link to=\"/categories/home\">Home</Link>\r\n                <Link to=\"/categories/music\">Music</Link>\r\n                <Link to=\"/categories/gaming\">Gaming</Link>\r\n                <Link to=\"/categories/other\">Other</Link>\r\n            </nav>\r\n        </aside>\r\n    )\r\n}\r\n\r\nexport default AsideMenu;","import './Header.css';\r\n\r\nimport { Component } from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Header extends Component {\r\n    render() {\r\n        if (this.props.loggedIn) {\r\n            return (\r\n                <header className=\"site-header\">\r\n                    <nav>\r\n                        <ul>\r\n                            <li><Link to=\"/article/create\" >Create Article</Link></li>\r\n                            <li><span>Welcome, <Link to=\"/profile\">{this.props.username}</Link>!</span></li>\r\n                            <li><Link to=\"/logout\">Logout</Link></li>\r\n                        </ul>\r\n                    </nav>\r\n                </header>\r\n            );\r\n        } else {\r\n            return (\r\n                <header className=\"site-header\">\r\n                    <nav>\r\n                        <ul>\r\n                            <li><Link to=\"/login\">Login</Link></li>\r\n                            <li><Link to=\"/register\">Register</Link></li>\r\n                        </ul>\r\n                    </nav>\r\n                </header>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Header;","import './HomeArticle.css';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst HomeArticle = ({\r\n    title,\r\n    content,\r\n    _id,\r\n}) => {\r\n    return (\r\n        <article className=\"home-article\">\r\n            <h3><Link to={`/article/details/${_id}`}>{title}</Link></h3>\r\n            <p className=\"description\">\r\n                <span>{content && content.slice(0, 150)}</span>&hellip;\r\n                <Link className=\"read-more\" to={`/article/details/${_id}`}>read more</Link>\r\n            </p>\r\n        </article>\r\n    );\r\n}\r\n\r\nexport default HomeArticle;","import './ErrorMessage.css';\r\n\r\nconst ErrorMessage = ({\r\n    message\r\n}) => {\r\n    return (\r\n        <div className=\"error-message\">\r\n            <span>{message}</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ErrorMessage;","import './SuccessMessage.css'\r\n\r\nconst SuccessMessage = ({\r\n    message\r\n}) => {\r\n    return (\r\n        <div className=\"success-message\">\r\n            <span>{message}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SuccessMessage;","import HomeArticle from '../HomeArticle/HomeArticle.js';\r\nimport ErrorMessage from '../../ErrorMessage/ErrorMessage.js';\r\nimport SuccessMessage from '../../SuccessMessage/SuccessMessage.js';\r\n\r\nconst HomeArticleList = ({\r\n    articles,\r\n    category,\r\n    onSubmitError,\r\n    onSucessMessage,\r\n}) => {\r\n    return (\r\n        <section>\r\n            {onSubmitError.message.length > 0 && <ErrorMessage message={onSubmitError.message} />}\r\n            \r\n            {onSucessMessage.type === 'logged in' && <SuccessMessage message=\"Login successful!\" /> }\r\n            {onSucessMessage.type === 'article created' && <SuccessMessage message=\"Article created!\" /> }\r\n            {onSucessMessage.type === 'article deleted' && <SuccessMessage message=\"Article deleted!\" /> }\r\n\r\n\r\n            {category === 'home' ? <h2>Latest articles</h2> : <h2>{category.charAt(0).toUpperCase() + category.slice(1)}</h2>}\r\n\r\n            {\r\n                articles.map(x => <HomeArticle\r\n                    key={x._id}\r\n                    title={x.title}\r\n                    content={x.content}\r\n                    author={x.author}\r\n                    date={x.date}\r\n                    _id={x._id}\r\n                />)\r\n            }\r\n\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default HomeArticleList;","import React from 'react';\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport default AuthContext;","const baseUrl = '/api/articles';\r\n\r\nconst fetchOptions = (method, data, isFormData) => {\r\n    const token = localStorage['auth'];\r\n\r\n    const headers = {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n    }\r\n\r\n    if (isFormData) {\r\n        delete headers['Content-Type'];\r\n    }\r\n\r\n    return {\r\n        method,\r\n        headers,\r\n        body: isFormData ? data : JSON.stringify(data)\r\n    }\r\n}\r\n\r\nconst create = (articleData) => {\r\n    return fetch(baseUrl, fetchOptions('POST', articleData, true))\r\n        .then(res => res.json())\r\n}\r\n\r\nconst getAll = (category) => {\r\n    return fetch(`${baseUrl}/category/${category}`)\r\n        .then(res => res.json());\r\n}\r\n\r\nconst getOne = (articleId) => {\r\n    return fetch(`${baseUrl}/${articleId}`)\r\n        .then(res => res.json());\r\n}\r\n\r\nconst postComment = (commentData) => {\r\n    return fetch(`${baseUrl}/comments`, fetchOptions('POST', commentData, false))\r\n        .then(res => res.json());\r\n}\r\n\r\nconst update = (articleId, updatedArticleData, isFormData) => {\r\n    return fetch(`${baseUrl}/${articleId}/edit`, fetchOptions('PATCH', updatedArticleData, isFormData))\r\n        .then(res => res.json());\r\n}\r\n\r\nconst remove = (articleId) => {\r\n    return fetch(`${baseUrl}/${articleId}/delete`, fetchOptions('DELETE', {}, false))\r\n        .then(res => res.json());\r\n}\r\n\r\nconst articleService = {\r\n    create,\r\n    getAll,\r\n    getOne,\r\n    postComment,\r\n    update,\r\n    remove,\r\n}\r\n\r\nexport default articleService;","const errorHandler = (setOnSubmitError, err) => {\r\n    setOnSubmitError(err);\r\n\r\n    setTimeout(() => {\r\n        setOnSubmitError({ message: '' });\r\n    }, 3000)\r\n}\r\n\r\nexport default errorHandler;","const timeoutMessage = (messageSetter, milliseconds) => {\r\n    return setTimeout(() => {\r\n        messageSetter({ state: false, type: '' });\r\n    }, milliseconds)\r\n}\r\n\r\nexport default timeoutMessage;","import { useContext, useState, useEffect } from 'react';\r\n\r\nimport HomeArticleList from './HomeArticleList/HomeArticleList.js';\r\n\r\nimport AuthContext from '../../../AuthContext';\r\nimport articleService from '../../../services/articleService';\r\nimport errorHandler from '../../../utils/errorHandler';\r\nimport timeoutMessage from '../../../utils/timeoutMessage';\r\n\r\nconst Home = ({\r\n    match,\r\n    location,\r\n}) => {\r\n    const { loggedInStateHandler } = useContext(AuthContext);\r\n\r\n    const [articles, setArticles] = useState([]);\r\n    const [category, setCategory] = useState('home');\r\n    const [onSubmitError, setOnSubmitError] = useState({ message: '' });\r\n    const [onSucessMessage, setOnSuccessMessage] = useState({\r\n        state: location.message ? location.message.state : false,\r\n        type: location.message ? location.message.type : ''\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (localStorage['auth']) loggedInStateHandler();\r\n\r\n        const timer = timeoutMessage(setOnSuccessMessage, 3000);\r\n        return () => clearTimeout(timer);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        articleService.getAll(category)\r\n            .then(res => {\r\n                if (res.err) throw res.err;\r\n\r\n                setArticles(res.articles);\r\n            })\r\n            .catch(err => errorHandler(setOnSubmitError, err));\r\n    }, [category]);\r\n\r\n    useEffect(() => {\r\n        if (match.params.category !== category) {\r\n            setCategory(match.params.category)\r\n        };\r\n    })\r\n\r\n    if (articles.length > 0) {\r\n        return <HomeArticleList\r\n            articles={articles}\r\n            category={category}\r\n            onSubmitError={onSubmitError}\r\n            onSucessMessage={onSucessMessage}\r\n        />\r\n    }\r\n\r\n    return <p>There are no articles in this section. Be the first to create one!</p>\r\n}\r\n\r\nexport default Home;","const baseUrl = '/api/auth';\r\n\r\nconst endpoint = {\r\n    register: `${baseUrl}/register`,\r\n    login: `${baseUrl}/login`,\r\n    validateToken: `${baseUrl}/validate-token`,\r\n}\r\n\r\nconst postOptions = (data) => {\r\n    return {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n    }\r\n}\r\n\r\nconst register = ({ username, password }) => {\r\n    return fetch(endpoint.register, postOptions({ username, password }))\r\n        .then(res => res.json());\r\n}\r\n\r\nconst login = ({ username, password }) => {\r\n    return fetch(endpoint.login, postOptions({ username, password }))\r\n        .then(res => res.json());\r\n}\r\n\r\nconst validateToken = (token) => {\r\n    return fetch(endpoint.validateToken, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(res => res.json());\r\n}\r\n\r\nconst authService = {\r\n    register,\r\n    login,\r\n    validateToken,\r\n}\r\n\r\nexport default authService;","import { useField } from 'formik';\r\n\r\nexport const MyTextInput = ({ label, ...props }) => {\r\n    const [field, meta] = useField(props);\r\n    return (\r\n        <>\r\n            <label htmlFor={props.id || props.name}>{label}</label>\r\n            <input {...field} {...props} />\r\n            {meta.touched && meta.error ? (\r\n                <div style={{ color: 'red' }}>{meta.error}</div>\r\n            ) : null}\r\n        </>\r\n    );\r\n};\r\n\r\nexport const MyTextareaInput = ({ label, ...props }) => {\r\n    const [field, meta] = useField(props);\r\n    return (\r\n        <>\r\n            <label htmlFor={props.id || props.name}>{label}</label>\r\n            <textarea {...field} {...props} />\r\n            {meta.touched && meta.error ? (\r\n                <div style={{ color: 'red' }}>{meta.error}</div>\r\n            ) : null}\r\n        </>\r\n    );\r\n};\r\n\r\nexport const MySelect = ({ label, ...props }) => {\r\n    const [field, meta] = useField(props);\r\n    return (\r\n        <div>\r\n            <label htmlFor={props.id || props.name}>{label}</label>\r\n            <select {...field} {...props} />\r\n            {meta.touched && meta.error ? (\r\n                <div style={{ color: 'red' }}>{meta.error}</div>\r\n            ) : null}\r\n        </div>\r\n    );\r\n};","import { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Formik, Form } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport authService from '../../../services/authService';\r\nimport errorHandler from '../../../utils/errorHandler';\r\nimport { MyTextInput } from '../../../reusable-components/reusable-components.js';\r\n\r\nimport ErrorMessage from '../ErrorMessage/ErrorMessage.js';\r\n\r\nconst Register = () => {\r\n    const [registered, setRegistered] = useState(false);\r\n    const [onSubmitError, setOnSubmitError] = useState({ message: '' });\r\n\r\n    if (registered) {\r\n        return (\r\n            <Redirect to={{\r\n                pathname: '/login',\r\n                message: {\r\n                    state: true,\r\n                    type: 'registered'\r\n                },\r\n            }} />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={{ username: '', password: '', repeatPassword: '' }}\r\n            validationSchema={Yup.object({\r\n                username: Yup.string()\r\n                    .required('Username is required!')\r\n                    .min(4, 'Username needs to be at least 4 characters long!'),\r\n                password: Yup.string()\r\n                    .required('Password is required!')\r\n                    .min(6, 'Password needs to be at least 6 characters long!'),\r\n                repeatPassword: Yup.string()\r\n                    .required('Repeat Password is required!')\r\n                    .test('passwords-match', 'Passwords should match!', function (value) {\r\n                        return this.parent.password === value\r\n                    })\r\n            })}\r\n            onSubmit={values => {\r\n                authService.register(values)\r\n                    .then(res => {\r\n                        if (res.err) throw res.err;\r\n\r\n                        setRegistered(true);\r\n                    })\r\n                    .catch(err => errorHandler(setOnSubmitError, err))\r\n            }}\r\n        >\r\n            <section>\r\n                {onSubmitError.message.length > 0 ? <ErrorMessage message={onSubmitError.message} /> : null}\r\n\r\n                <h2>Register</h2>\r\n                <div>\r\n                    <Form>\r\n                        <MyTextInput\r\n                            label=\"Username:\"\r\n                            name=\"username\"\r\n                            type=\"text\"\r\n                        />\r\n\r\n                        <MyTextInput\r\n                            label=\"Password:\"\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                        />\r\n\r\n                        <MyTextInput\r\n                            label=\"Repeat Password:\"\r\n                            name=\"repeatPassword\"\r\n                            type=\"password\"\r\n                        />\r\n\r\n                        <input type=\"submit\" value=\"Register\" />\r\n                    </Form>\r\n                </div>\r\n            </section>\r\n        </Formik>\r\n    );\r\n}\r\n\r\nexport default Register;","import { useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Formik, Form } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport authService from '../../../services/authService';\r\nimport errorHandler from '../../../utils/errorHandler';\r\nimport timeoutMessage from '../../../utils/timeoutMessage';\r\nimport { MyTextInput } from '../../../reusable-components/reusable-components.js';\r\n\r\nimport ErrorMessage from '../ErrorMessage/ErrorMessage.js';\r\nimport SuccessMessage from '../SuccessMessage/SuccessMessage.js';\r\n\r\nconst Login = ({\r\n    location\r\n}) => {\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n    const [onSubmitError, setOnSubmitError] = useState({ message: '' });\r\n    const [onSucessMessage, setOnSuccessMessage] = useState({\r\n        state: location.message ? location.message.state : false,\r\n        type: location.message ? location.message.type : ''\r\n    });\r\n\r\n    useEffect(() => {\r\n        const timer = timeoutMessage(setOnSuccessMessage, 3000);\r\n        return () => clearTimeout(timer);\r\n    }, [])\r\n\r\n    if (loggedIn) {\r\n        return <Redirect to={{\r\n            pathname: '/categories/home',\r\n            message: {\r\n                state: true,\r\n                type: 'logged in'\r\n            },\r\n        }} />\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={{ username: '', password: '' }}\r\n            validationSchema={Yup.object({\r\n                username: Yup.string()\r\n                    .required('Username is required!'),\r\n                password: Yup.string()\r\n                    .required('Password is required!'),\r\n            })}\r\n            onSubmit={values => {\r\n                authService.login(values)\r\n                    .then(res => {\r\n                        if (res.err) throw res.err;\r\n\r\n                        localStorage.setItem('user', res.username);\r\n                        localStorage.setItem('auth', res.token);\r\n\r\n                        setTimeout(() => {\r\n                            setLoggedIn(true);\r\n                        }, 20)\r\n                    })\r\n                    .catch(err => errorHandler(setOnSubmitError, err));\r\n            }}\r\n        >\r\n            <section>\r\n                {onSubmitError.message.length > 0 && <ErrorMessage message={onSubmitError.message} />}\r\n                {onSucessMessage.state && <SuccessMessage message=\"Successfully registered!\" />}\r\n\r\n                <h2>Login</h2>\r\n                <div>\r\n                    <Form>\r\n                        <MyTextInput\r\n                            label=\"Username:\"\r\n                            name=\"username\"\r\n                            type=\"text\"\r\n                        />\r\n\r\n                        <MyTextInput\r\n                            label=\"Password:\"\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                        />\r\n\r\n                        <input type=\"submit\" value=\"Login\" />\r\n                    </Form>\r\n                </div>\r\n            </section>\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport default Login;","const NotFound = () => {\r\n    return (\r\n        <section>\r\n            <h2>Whoops.. There is nothing here!</h2>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default NotFound;","import { useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport AuthContext from '../../../AuthContext'\r\n\r\nconst Logout = () => {\r\n    const { loggedOutStateHandler } = useContext(AuthContext);\r\n\r\n    localStorage.clear();\r\n\r\n    setTimeout(() => {\r\n        loggedOutStateHandler();\r\n    }, 20);\r\n\r\n    return (\r\n        <Redirect to=\"/login\" />\r\n    )\r\n}\r\n\r\nexport default Logout;","const availableOptions = [\r\n    { value: 'music', label: 'Music' },\r\n    { value: 'gaming', label: 'Gaming' },\r\n    { value: 'other', label: 'Other' },\r\n]\r\n\r\nexport default availableOptions;","import './ArticleForm.css';\r\n\r\nimport { Form } from 'formik';\r\nimport { MyTextInput, MyTextareaInput, MySelect } from '../../../reusable-components/reusable-components.js';\r\nimport availableOptions from '../../../utils/categoryOptions.js';\r\n\r\nconst ArticleForm = ({\r\n    setFieldValue,\r\n    values,\r\n}) => {\r\n    return (\r\n        <Form className=\"article-form\">\r\n            <MyTextInput\r\n                label=\"Title:\"\r\n                name=\"title\"\r\n                type=\"text\"\r\n                placeholder=\"Title..\"\r\n            />\r\n\r\n            <MyTextareaInput\r\n                label=\"Content:\"\r\n                name=\"content\"\r\n                placeholder=\"Description..\"\r\n            />\r\n\r\n            <MySelect label=\"Category:\" name=\"category\">\r\n                {availableOptions.map(o => {\r\n                    return <option key={o.value} value={o.value}>{o.label}</option>\r\n                })}\r\n            </MySelect>\r\n\r\n            <label htmlFor=\"image\">{values ? 'Change your image:' : 'Upload an image (optional):'}</label>\r\n            {values && values.imageUrl && <img src={values.imageUrl} alt=\"\" />}\r\n            <input id=\"image\" name=\"image\" type=\"file\" onChange={(event) => {\r\n                setFieldValue(\"image\", event.currentTarget.files[0]);\r\n            }} />\r\n\r\n            <MyTextInput\r\n                label=\"Youtube URL (optional):\"\r\n                name=\"youtubeUrl\"\r\n                type=\"text\"\r\n                placeholder=\"https://\"\r\n            />\r\n\r\n            <input type=\"submit\" value=\"Submit\" />\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default ArticleForm;","import './CreateArticle.css';\r\n\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport ArticleForm from '../ArticleForm/ArticleForm.js';\r\nimport articleService from '../../../services/articleService';\r\nimport errorHandler from '../../../utils/errorHandler';\r\nimport AuthContext from '../../../AuthContext';\r\n\r\nimport ErrorMessage from '../ErrorMessage/ErrorMessage.js';\r\n\r\nconst CreateArticle = () => {\r\n    const [onSubmitError, setOnSubmitError] = useState({ message: '' });\r\n    const { username, loggedInStateHandler } = useContext(AuthContext);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (localStorage['auth']) loggedInStateHandler();\r\n    }, []);\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={{ title: '', content: '', category: 'music', youtubeUrl: '', author: username, image: null }}\r\n            validationSchema={Yup.object({\r\n                title: Yup.string()\r\n                    .required('Title is required!'),\r\n                content: Yup.string()\r\n                    .required('Content is required!'),\r\n                youtubeUrl: Yup.string()\r\n                    .url('Invalid URL!'),\r\n            })}\r\n            onSubmit={values => {\r\n                const formData = new FormData();\r\n\r\n                formData.append('title', values.title);\r\n                formData.append('content', values.content);\r\n                formData.append('category', values.category);\r\n                formData.append('youtubeUrl', values.youtubeUrl);\r\n                formData.append('author', values.author);\r\n                formData.append('image', values.image);\r\n\r\n                articleService\r\n                    .create(formData)\r\n                    .then(res => {\r\n                        if (res.err) throw res.err;\r\n\r\n                        history.push({\r\n                            pathname: '/categories/home',\r\n                            message: {\r\n                                state: true,\r\n                                type: 'article created'\r\n                            }\r\n                        });\r\n                    })\r\n                    .catch(err => errorHandler(setOnSubmitError, err));\r\n            }}\r\n        >\r\n            {({ setFieldValue }) => (\r\n\r\n                <section className=\"create-article\">\r\n                    {onSubmitError.message.length > 0 && <ErrorMessage message={onSubmitError.message} />}\r\n\r\n                    <h2>Create new article</h2>\r\n                    <div>\r\n                        <ArticleForm setFieldValue={setFieldValue} />\r\n                    </div>\r\n                </section>\r\n            )}\r\n        </Formik>\r\n    );\r\n}\r\n\r\nexport default CreateArticle;","import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport AuthContext from '../../../../AuthContext';\r\n\r\nconst GuestDetailsArticle = ({\r\n    _id,\r\n    title,\r\n    imageUrl,\r\n    youtubeUrl,\r\n    content,\r\n    author,\r\n    date,\r\n    hasLiked,\r\n    likes,\r\n    onLikeArticleHandler\r\n}) => {\r\n    const { username: currentUser } = useContext(AuthContext);\r\n    const height = imageUrl || youtubeUrl ? '300px' : '0px';\r\n\r\n    return (\r\n        <article>\r\n            <h3>{title}</h3>\r\n            {\r\n                currentUser === author && <div className=\"user-control\">\r\n                    <Link className=\"user-btn\" to={`/article/edit/${_id}`}>&#91;Edit&#93;</Link>\r\n                    <Link className=\"user-btn\" to={`/article/delete/${_id}`}>&#91;Delete&#93;</Link>\r\n                </div>\r\n            }\r\n            <div className=\"visual-section\" style={{ height }}>\r\n                {imageUrl && <img src={imageUrl} alt=\"\" />}\r\n                {youtubeUrl && <iframe width=\"500\" height=\"281\" src={youtubeUrl} title=\"YouTube video player\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>}\r\n            </div>\r\n            {content.split('\\n\\n').map((paragraph, i) => <p key={i} className=\"description\">{paragraph}</p>)}\r\n            <div className=\"article-info\">\r\n                <span className=\"author-name\">Published by <strong>{author}</strong></span>\r\n                {!currentUser && <span className=\"cannot-like-article\">{likes} <span>&#10084;</span></span>}\r\n                {\r\n                    hasLiked ?\r\n                        currentUser && <span className=\"cannot-like-article\">{likes} <span>&#10084;</span></span> :\r\n                        currentUser && <span className=\"can-like-article\">Click on the heart!<span onClick={onLikeArticleHandler}>&#10084;</span>We have {likes} hearts!</span>\r\n                }\r\n                <p>\r\n                    <time dateTime={date}>{date}</time>\r\n                </p>\r\n            </div>\r\n        </article>\r\n    );\r\n}\r\n\r\nexport default GuestDetailsArticle;","import './Comment.css';\r\n\r\nconst Comment = ({\r\n    _id,\r\n    name,\r\n    comment,\r\n    date,\r\n    number,\r\n}) => {\r\n    return (\r\n        <div id={_id} className=\"comment-box\">\r\n            <var className=\"comment-number\">{number}</var>\r\n            <div className=\"comment-name\">{name}</div>\r\n            <time className=\"comment-date\" dateTime={date}>{date}</time>\r\n            <p className=\"comment-description\">{comment}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Comment;","import GuestDetailsArticle from '../GuestDetailsArticle/GuestDetailsArticle.js';\r\nimport Comment from '../Comment/Comment.js';\r\n\r\nconst AuthDetailsArticle = ({\r\n    _id,\r\n    title,\r\n    content,\r\n    imageUrl,\r\n    youtubeUrl,\r\n    author,\r\n    date,\r\n    hasLiked,\r\n    likes,\r\n    comments,\r\n    onCommentSubmitHandler, \r\n    onLikeArticleHandler,\r\n}) => {\r\n    return (\r\n        <>\r\n            <GuestDetailsArticle\r\n                _id={_id}\r\n                title={title}\r\n                content={content}\r\n                imageUrl={imageUrl}\r\n                youtubeUrl={youtubeUrl}\r\n                author={author}\r\n                date={date}\r\n                hasLiked={hasLiked}\r\n                likes={likes}\r\n                onLikeArticleHandler={onLikeArticleHandler}\r\n            />\r\n\r\n            <h4>Comments</h4>\r\n            <div>\r\n                {\r\n                    comments.map(c =>\r\n                        <Comment\r\n                            key={c._id}\r\n                            _id={c._id}\r\n                            name={c.name}\r\n                            comment={c.comment}\r\n                            date={c.date}\r\n                            number={c.number}\r\n                        />\r\n                    )\r\n                }\r\n            </div>\r\n\r\n            <form onSubmit={onCommentSubmitHandler}>\r\n                <label htmlFor=\"comment\">Comment: </label>\r\n                <textarea name=\"comment\" id=\"comment\" cols=\"30\" rows=\"8\"></textarea>\r\n                <input type=\"submit\" value=\"Add comment\" />\r\n            </form>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default AuthDetailsArticle;","import './DetailsArticle.css';\r\n\r\nimport { useContext, useState, useEffect } from 'react';\r\n\r\nimport GuestDetailsArticle from './GuestDetailsArticle/GuestDetailsArticle.js';\r\nimport AuthDetailsArticle from './AuthDetailsArticle/AuthDetailsArticle.js';\r\nimport ErrorMessage from '../ErrorMessage/ErrorMessage.js';\r\nimport SuccessMessage from '../SuccessMessage/SuccessMessage.js';\r\n\r\nimport AuthContext from '../../../AuthContext';\r\nimport articleService from '../../../services/articleService';\r\nimport errorHandler from '../../../utils/errorHandler';\r\nimport timeoutMessage from '../../../utils/timeoutMessage';\r\n\r\n\r\nconst DetailsArticle = ({\r\n    match,\r\n    location,\r\n}) => {\r\n    const { loggedIn, username, loggedInStateHandler } = useContext(AuthContext);\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [youtubeUrl, setYoutubeUrl] = useState('');\r\n    const [author, setAuthor] = useState('');\r\n    const [date, setDate] = useState('');\r\n    const [usersLiked, setUsersLiked] = useState([]);\r\n    const [likes, setLikes] = useState(0);\r\n    const [_id, set_id] = useState('');\r\n    const [comments, setComments] = useState([]);\r\n    const [commentPosted, setCommentPosted] = useState('');\r\n    const [onSubmitError, setOnSubmitError] = useState({ message: '' });\r\n    const [onSucessMessage, setOnSuccessMessage] = useState({\r\n        state: location.message ? location.message.state : false,\r\n        type: location.message ? location.message.type : ''\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (localStorage['auth']) loggedInStateHandler();\r\n\r\n        const timer = timeoutMessage(setOnSuccessMessage, 3000);\r\n        return () => clearTimeout(timer);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const { articleId } = match.params;\r\n\r\n        articleService.getOne(articleId)\r\n            .then(res => {\r\n                if (res.err) throw res.err;\r\n\r\n                const { _id, title, content, imageUrl, youtubeUrl, author, date, usersLiked, likes, comments } = res;\r\n                \r\n                const dateArr = date.split('T');\r\n                const dateArgs = dateArr[0].split('-');\r\n                const formattedDate = `${dateArgs[2]}/${dateArgs[1]}/${dateArgs[0]}` + ' ' + dateArr[1].slice(0, 5);\r\n\r\n                setTitle(title);\r\n                setContent(content);\r\n                setImageUrl(imageUrl);\r\n                setYoutubeUrl(youtubeUrl);\r\n                setAuthor(author);\r\n                setDate(formattedDate);\r\n                setUsersLiked(usersLiked);\r\n                setLikes(likes);\r\n                set_id(_id);\r\n                setComments(comments);\r\n            })\r\n            .catch(err => errorHandler(setOnSubmitError, err))\r\n    }, [commentPosted, likes]);\r\n\r\n    const onCommentSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const name = username;\r\n        const comment = e.target.comment.value;\r\n\r\n        articleService.postComment({ articleId: _id, name, comment })\r\n            .then(res => {\r\n                if (res.err) throw res.err;\r\n\r\n                setCommentPosted(res._id);\r\n                e.target.comment.value = '';\r\n            })\r\n            .catch(err => errorHandler(setOnSubmitError, err));\r\n    }\r\n\r\n    const hasLiked = usersLiked.includes(username) ? true : false;\r\n\r\n    const onLikeArticleHandler = () => {\r\n        if (!hasLiked) {\r\n            usersLiked.push(username);\r\n\r\n            articleService.update(_id, { likes: likes + 1, usersLiked }, false)\r\n                .then(res => {\r\n                    if (res.err) throw res.err;\r\n\r\n                    setLikes(oldLikes => oldLikes + 1);\r\n                })\r\n                .catch(err => errorHandler(setOnSubmitError, err));\r\n        }\r\n    }\r\n\r\n    if (!loggedIn) {\r\n        return (\r\n            <section className=\"details-article\">\r\n                <GuestDetailsArticle\r\n                    title={title}\r\n                    content={content}\r\n                    imageUrl={imageUrl}\r\n                    youtubeUrl={youtubeUrl}\r\n                    author={author}\r\n                    date={date}\r\n                    likes={likes}\r\n                />\r\n            </section>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <section className=\"details-article\">\r\n            {onSubmitError.message.length > 0 && <ErrorMessage message={onSubmitError.message} />}\r\n\r\n            {onSucessMessage.state && <SuccessMessage message=\"Article updated!\" />}\r\n\r\n            <AuthDetailsArticle\r\n                _id={_id}\r\n                title={title}\r\n                content={content}\r\n                imageUrl={imageUrl}\r\n                youtubeUrl={youtubeUrl}\r\n                author={author}\r\n                date={date}\r\n                hasLiked={hasLiked}\r\n                likes={likes}\r\n                comments={comments}\r\n                onCommentSubmitHandler={onCommentSubmitHandler}\r\n                onLikeArticleHandler={onLikeArticleHandler}\r\n            />\r\n\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default DetailsArticle;","import { useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport ArticleForm from '../ArticleForm/ArticleForm.js';\r\nimport ErrorMessage from '../ErrorMessage/ErrorMessage.js';\r\n\r\nimport articleService from '../../../services/articleService';\r\nimport AuthContext from '../../../AuthContext.js';\r\nimport errorHandler from '../../../utils/errorHandler';\r\n\r\nconst EditArticle = ({\r\n    match\r\n}) => {\r\n    const { loggedInStateHandler } = useContext(AuthContext);\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [category, setCategory] = useState('');\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [youtubeUrl, setYoutubeUrl] = useState('');\r\n    const [isArticleUpdated, setIsArticleUpdated] = useState(false);\r\n    const [isDataAvailable, setIsDataAvailable] = useState(false);\r\n    const [onSubmitError, setOnSubmitError] = useState({ message: '' });\r\n\r\n    useEffect(() => {\r\n        loggedInStateHandler();\r\n\r\n        const { articleId } = match.params;\r\n\r\n        articleService.getOne(articleId)\r\n            .then(res => {\r\n                if (res.err) throw res.err;\r\n\r\n                let { title, content, category, imageUrl, youtubeUrl } = res;\r\n\r\n                youtubeUrl = youtubeUrl.replace('embed/', 'watch?v=');\r\n\r\n                setTitle(title);\r\n                setContent(content);\r\n                setCategory(category);\r\n                setImageUrl(imageUrl);\r\n                setYoutubeUrl(youtubeUrl);\r\n\r\n                setIsDataAvailable(true);\r\n            })\r\n            .catch(err => errorHandler(setOnSubmitError, err))\r\n    }, []);\r\n\r\n    if (isArticleUpdated) {\r\n        return <Redirect to={{\r\n            pathname: `/article/details/${match.params.articleId}`,\r\n            message: {\r\n                state: true,\r\n                type: 'article updated'\r\n            }\r\n        }} />\r\n    } else if (isDataAvailable) {\r\n        return (\r\n            <Formik\r\n                initialValues={{ title, content, category, imageUrl, youtubeUrl, image: null }}\r\n                validationSchema={Yup.object({\r\n                    title: Yup.string()\r\n                        .required('Title is required!'),\r\n                    content: Yup.string()\r\n                        .required('Content is required!'),\r\n                    youtubeUrl: Yup.string()\r\n                        .url('Invalid URL!'),\r\n                })}\r\n                onSubmit={values => {\r\n                    const formData = new FormData();\r\n\r\n                    formData.append('title', values.title);\r\n                    formData.append('content', values.content);\r\n                    formData.append('category', values.category);\r\n                    formData.append('imageUrl', values.imageUrl);\r\n                    formData.append('youtubeUrl', values.youtubeUrl);\r\n                    formData.append('image', values.image);\r\n\r\n                    const { articleId } = match.params;\r\n\r\n                    articleService.update(articleId, formData, true)\r\n                        .then(res => {\r\n                            if (res.err) throw res.err;\r\n\r\n                            setIsArticleUpdated(true);\r\n                        })\r\n                        .catch(err => errorHandler(setOnSubmitError, err))\r\n                }}\r\n            >\r\n                {({ setFieldValue, values }) => (\r\n\r\n                    <section className=\"edit-article\">\r\n                        {onSubmitError.message.length > 0 && <ErrorMessage message={onSubmitError.message} />}\r\n\r\n                        <h2>Edit your article</h2>\r\n                        <div>\r\n                            <ArticleForm setFieldValue={setFieldValue} values={values} />\r\n                        </div>\r\n                    </section>\r\n                )}\r\n            </Formik>\r\n        );\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default EditArticle;","import './DeleteArticle.css';\r\n\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nimport ErrorMessage from '../ErrorMessage/ErrorMessage.js';\r\n\r\nimport AuthContext from '../../../AuthContext';\r\nimport articleService from '../../../services/articleService';\r\nimport errorHandler from '../../../utils/errorHandler';\r\n\r\n\r\nconst DeleteArticle = ({\r\n    match\r\n}) => {\r\n    const { loggedInStateHandler } = useContext(AuthContext);\r\n    const { articleId } = match.params;\r\n\r\n    const [isArticleDeleted, setIsArticleDeleted] = useState(false);\r\n    const [onSubmitError, setOnSubmitError] = useState({ message: '' });\r\n\r\n    useEffect(() => {\r\n        loggedInStateHandler();\r\n    }, []);\r\n\r\n    const onDeleteClickHandler = () => {\r\n        articleService.remove(articleId)\r\n            .then(res => {\r\n                if (res.err) throw res.err;\r\n\r\n                setIsArticleDeleted(true);\r\n            })\r\n            .catch(err => errorHandler(setOnSubmitError, err));\r\n    }\r\n\r\n    if (isArticleDeleted) {\r\n        return <Redirect to={{\r\n            pathname: '/categories/home',\r\n            message: {\r\n                state: true,\r\n                type: 'article deleted'\r\n            }\r\n        }} />\r\n    }\r\n\r\n    return (\r\n        <section className=\"article-delete\">\r\n            {onSubmitError.message.length > 0 && <ErrorMessage message={onSubmitError.message} />}\r\n\r\n            <h3>Are you sure you want to delete your article?</h3>\r\n            <Link to={`/article/details/${articleId}`}>Back</Link>\r\n            <a onClick={onDeleteClickHandler}>Delete</a>\r\n        </section>\r\n\r\n    );\r\n}\r\n\r\nexport default DeleteArticle;","const baseUrl = '/api/users';\r\n\r\nconst getUserInfo = (username) => {\r\n    const token = localStorage['auth'];\r\n\r\n    return fetch(`${baseUrl}/${username}`, {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n        .then(res => res.json());\r\n}\r\n\r\nconst userService = {\r\n    getUserInfo,\r\n}\r\n\r\nexport default userService;","import './Profile.css';\r\n\r\nimport { useContext, useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport ErrorMessage from '../ErrorMessage/ErrorMessage.js';\r\n\r\nimport AuthContext from '../../../AuthContext.js';\r\nimport userService from '../../../services/userService.js';\r\nimport errorHandler from '../../../utils/errorHandler';\r\n\r\n\r\nconst Profile = () => {\r\n    const { username, loggedInStateHandler } = useContext(AuthContext);\r\n\r\n    const [userComments, setUserComments] = useState(0);\r\n    const [userArticles, setUserArticles] = useState([]);\r\n    const [onSubmitError, setOnSubmitError] = useState({ message: '' });\r\n\r\n    useEffect(() => {\r\n        if (localStorage['auth']) loggedInStateHandler();\r\n\r\n        userService.getUserInfo(username)\r\n            .then(res => {\r\n                if (res.err) throw res.err;\r\n\r\n                const { comments, createdArticles } = res;\r\n\r\n                setUserComments(comments.length);\r\n                setUserArticles(createdArticles);\r\n            })\r\n            .catch(err => errorHandler(setOnSubmitError, err));\r\n    }, []);\r\n\r\n    return (\r\n        <section className=\"user-profile\">\r\n            {onSubmitError.message.length > 0 && <ErrorMessage message={onSubmitError.message} />}\r\n\r\n            <i className=\"material-icons\">account_circle</i>\r\n            <h4>My articles</h4>\r\n            <ul>\r\n                {\r\n                    userArticles.map(a => <li key={a._id}><Link to={`/article/details/${a._id}`}>{a.title}</Link></li>)\r\n                }\r\n            </ul>\r\n            <h4>Comments count</h4>\r\n            <span>{userComments}</span>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            hasError: false\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        return {\r\n            hasError: true\r\n        }\r\n    }\r\n\r\n    componentDidCatch(error) {\r\n        console.log('Error from componentDidCatch: ', error);\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return (\r\n                <h1>Looks like something went wrong!</h1>\r\n            )\r\n        }\r\n\r\n        return (\r\n            this.props.children\r\n        )\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","import { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AuthContext from '../AuthContext';\r\n\r\nconst isAuth = (WrappedComponent) => {\r\n    \r\n    const Component = (props) => {\r\n        const { loggedIn } = useContext(AuthContext);\r\n        const history = useHistory();\r\n\r\n        if (!loggedIn) {\r\n            history.push('/login');\r\n            return null;\r\n        }\r\n\r\n        return <WrappedComponent {...props} />\r\n    }\r\n\r\n    return Component;\r\n}\r\n\r\nexport default isAuth;","import { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport AuthContext from '../AuthContext';\r\n\r\nconst isGuest = (WrappedComponent) => {\r\n\r\n    const Component = (props) => {\r\n        const { loggedIn } = useContext(AuthContext);\r\n        const history = useHistory();\r\n\r\n        if (loggedIn) {\r\n            setTimeout(() => {\r\n                history.push('/categories/home');\r\n            }, 20)\r\n            return null;\r\n        }\r\n\r\n        return <WrappedComponent {...props} />\r\n    }\r\n\r\n    return Component;\r\n}\r\n\r\nexport default isGuest;","import './Main.css';\r\n\r\nimport { Component } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\n\r\nimport Home from './Home/Home.js';\r\nimport Register from './Register/Register.js';\r\nimport Login from './Login/Login.js';\r\nimport NotFound from './NotFound/NotFound.js';\r\nimport Logout from './Logout/Logout.js';\r\nimport CreateArticle from './CreateArticle/CreateArticle.js';\r\nimport DetailsArticle from './DetailsArticle/DetailsArticle.js';\r\nimport EditArticle from './EditArticle/EditArticle.js';\r\nimport DeleteArticle from './DeleteArticle/DeleteArticle.js';\r\nimport Profile from './Profile/Profile.js';\r\nimport ErrorBoundary from './ErrorBoundary/ErrorBoundary.js'\r\n\r\nimport isAuth from '../../hoc/isAuth';\r\nimport isGuest from '../../hoc/isGuest';\r\n\r\nclass Main extends Component {\r\n    render() {\r\n        return (\r\n            <main className=\"main-wrapper\">\r\n                <ErrorBoundary>\r\n                    <Switch>\r\n                        <Route path=\"/\" exact>\r\n                            <Redirect to=\"/categories/home\" />\r\n                        </Route>\r\n\r\n                        <Route path=\"/categories/:category\" component={Home} />\r\n                        <Route path=\"/article/create\" component={isAuth(CreateArticle)} />\r\n                        <Route path=\"/article/details/:articleId\" component={DetailsArticle} />\r\n                        <Route path=\"/article/edit/:articleId\" component={isAuth(EditArticle)} />\r\n                        <Route path=\"/article/delete/:articleId\" component={isAuth(DeleteArticle)} />\r\n                        <Route path=\"/profile\" component={isAuth(Profile)} />\r\n                        <Route path=\"/register\" component={isGuest(Register)} />\r\n                        <Route path=\"/login\" component={isGuest(Login)} />\r\n                        <Route path=\"/logout\" component={isAuth(Logout)} />\r\n\r\n                        <Route component={NotFound} />\r\n                    </Switch>\r\n                </ErrorBoundary>\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Main;","import './Footer.css';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer>\r\n            <p>All rights reserved. &copy; | Mihail Tomov</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import './App.css';\n\nimport { useState, useEffect } from 'react';\n\nimport AsideMenu from './components/AsideMenu/AsideMenu.js';\nimport Header from './components/Header/Header.js';\nimport Main from './components/Main/Main.js';\nimport Footer from './components/Footer/Footer.js';\n\nimport authService from './services/authService';\nimport AuthContext from './AuthContext';\n\nconst App = () => {\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [username, setUsername] = useState('');\n\n    useEffect(() => {\n        loggedInStateHandler();\n    }, [])\n\n    const loggedInStateHandler = () => {\n        const token = localStorage['auth'];\n\n        if (token) {\n            authService.validateToken(token)\n                .then(res => {\n                    if (!res.err) {\n                        setLoggedIn(true);\n                        setUsername(localStorage['user']);\n                    } else {\n                        localStorage.clear();\n                        loggedOutStateHandler();\n                    }\n                })\n        }\n    }\n\n    const loggedOutStateHandler = () => {\n        setLoggedIn(false);\n        setUsername('');\n    }\n\n    const context = {\n        loggedIn,\n        username,\n        loggedInStateHandler,\n        loggedOutStateHandler,\n    }\n\n    return (\n        <div className=\"site-wrapper\">\n\n            <AsideMenu />\n\n            <div className=\"container\">\n                <Header loggedIn={loggedIn} username={username} />\n\n                <AuthContext.Provider value={context}>\n                    <Main />\n                </AuthContext.Provider>\n\n                <Footer />\n            </div>\n\n        </div>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}